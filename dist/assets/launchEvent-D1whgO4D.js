import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{initializeApp as u}from"https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";import{getFirestore as p,addDoc as f,collection as g,Timestamp as l}from"https://www.gstatic.com/firebasejs/10.6.0/firebase-firestore.js";const v={apiKey:"AIzaSyDD_2z29qDHPVXeSXyZ0T9VO_n_PcW1EqU",authDomain:"group-project-8a6ee.firebaseapp.com",projectId:"group-project-8a6ee",storageBucket:"group-project-8a6ee.firebasestorage.app",messagingSenderId:"922685674876",appId:"1:922685674876:web:6edeac0ff4fb485db780f9",measurementId:"G-1LCVJ62HEL"},m=u(v),E=p(m);console.log("Firebase initialized:",m.options.projectId);const c=document.getElementById("search-container"),o=document.getElementById("autocomplete-results");let i=null;const y="710361f6-69e6-410f-8299-244cc2fecf5f";async function I(e){const t=`https://api.stadiamaps.com/geocoding/v1/search?text=${encodeURIComponent(e)}&api_key=${y}`;return(await(await fetch(t)).json()).features||[]}c.addEventListener("input",async()=>{const e=c.value.trim();if(e.length<3){o.innerHTML="";return}const t=await I(e);o.innerHTML="",t.forEach(n=>{const a=document.createElement("li");a.textContent=n.properties.label,a.addEventListener("click",()=>{c.value=n.properties.label,o.innerHTML="",i=n.geometry.coordinates}),o.appendChild(a)})});document.getElementById("eventForm").addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("eventname").value.trim(),n=document.getElementById("eventdescription").value.trim(),a=document.getElementById("eventdate").value,s=document.getElementById("search-container").value.trim();if(!t||!n||!a||!s){alert("Please fill out all fields!");return}const d=new Date(a);if(isNaN(d)){alert("Invalid date!");return}try{const r=await f(g(E,"testEvents"),{name:t,description:n,date:l.fromDate(d),location:{name:s,coordinates:i},createdAt:l.fromDate(new Date)});alert(`Event "${t}" created successfully! ID: ${r.id}`),e.target.reset(),i=null}catch(r){console.error("Error creating event:",r),alert("Error creating event. Check console.")}});
